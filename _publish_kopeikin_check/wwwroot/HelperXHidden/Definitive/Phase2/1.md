# Phase 2.1 — Core Product Features And Workflows

## What To Learn
Sonar’s core workflows cover assessment entry, observation capture, reporting, statutory outcomes, and target setting. Each workflow has a defined API area and, where applicable, a reporting UI surface.

## Why It Exists
These workflows are the business-critical paths. Any change here has high impact on user outcomes and data integrity.

## Where It Lives In The Codebase
- Assessments: `sonar-api/sonar-api/src/Areas/Assessment/*`
- Observations: `sonar-api/sonar-api/src/Areas/Observation/*`
- Reports: `sonar-api/sonar-api/src/Areas/Reports/*`
- Statutory outcomes: `sonar-api/sonar-api/src/Areas/Statutory/*`
- Targets: `sonar-api/sonar-api/src/Areas/Target/*`
- Reports UI: `sonar/reports-web/src/app/report/*`

## Workflow 1: Summative Assessment Capture
- UI collects summative judgments per pupil/subject/term.
- API validates and writes to summative assessment entities.
- Reports use these records via orchestration.

## Workflow 2: Formative Observation Capture
- UI captures observations linked to objectives and pupils.
- API stores observation records and related entities.
- Reports use formative evidence in triangulation and progress analysis.

## Workflow 3: Reporting And Analytics
- Reports Web renders a report based on filters and parameters.
- API orchestrators retrieve and transform data.
- Optional PDF export produces a static view.

## Workflow 4: Statutory Outcomes
- Statutory headline calculators convert assessment data into statutory outcomes.
- Output is used in statutory reports and governance views.

## Workflow 5: Target Setting And Tracking
- Targets are stored as summative target entities.
- Reports compare current status against targets.

## Questions And Answers
- **Which flows require queue processing?**
  - Background data preparation and integration synchronization are queued. Most report data retrieval is synchronous.

- **Which flows are read-heavy vs write-heavy?**
  - Write-heavy: assessment entry, observations.
  - Read-heavy: reports and statutory outcomes.

## Additional Questions You Should Be Able To Answer
- How are report parameters validated before execution?
  - Parameters are parsed in Reports Web and validated in report handlers in the API.

- Why do some reports rely on orchestration rather than direct queries?
  - Orchestration centralizes complex transformations and ensures consistency.

## Completion Check
You can list Sonar’s core workflows and point to the exact API areas and UI components that implement them.
