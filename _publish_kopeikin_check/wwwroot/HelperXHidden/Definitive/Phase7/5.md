# Phase 7.5 â€” Background Jobs, Batch Processing, And Reporting Pipelines

## What To Learn
Sonar uses queues and background services for heavy tasks such as data preparation and integrations.

## Why It Exists
Some operations are too heavy for synchronous request/response workflows.

## Where It Lives In The Codebase
- Queue registration: `sonar-api/sonar-api/src/Infrastructure/Queue/QueueRegistration.cs`
- Queue definitions: `sonar-api/sonar-queue/src/*`
- Queue processor host: `sonar-api/sonar-queue-processor/src/Program.cs`
- Queue runner host: `sonar-api/sonar-queue-runner/src/Program.cs`
- Document generation: `sonar-api/sonar-document-generation/src`

## Types Of Background Work
- Data preparation for reporting.
- External data sync (Wonde).
- Report generation and PDF conversion.

## Questions And Answers
- **Which jobs are scheduled vs triggered on demand?**
  - Queue runner triggers jobs on demand; scheduled jobs are typically orchestrated by external schedulers that call the runner.

## Additional Questions You Should Be Able To Answer
- How do you enqueue a job from the API?
  - Via MassTransit/RabbitMQ in `QueueRegistration.cs` and related queue item definitions.

## Completion Check
You can identify how queue processing works and where jobs are defined and executed.
