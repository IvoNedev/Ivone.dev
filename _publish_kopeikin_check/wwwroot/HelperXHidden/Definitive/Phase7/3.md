# Phase 7.3 â€” Validation And Invariants

## What To Learn
Validation occurs in API handlers and data access layers. Invariants such as valid assessment points and code sets are enforced before data is stored.

## Why It Exists
Invalid data leads to incorrect reporting and can break statutory outcomes.

## Where It Lives In The Codebase
- API handlers: `sonar-api/sonar-api/src/Areas/*`
- Stored procedure wrappers: `sonar-api/sonar-api/src/StoredProcedures/*`
- Assessment point logic: `sonar-api/sonar-utilities/src/AssessmentPoint.cs`

## Typical Validation Checks
- Input range validation (term IDs, academic years).
- Permission-based validation (user can access feature or report).
- Code set validation (summative codes or ARE codes).

## Questions And Answers
- **Which validation is duplicated across layers?**
  - Some validation occurs both in handlers and stored procedures; this is common in legacy areas.

## Additional Questions You Should Be Able To Answer
- How do you determine if a term ID is valid?
  - `AssessmentPoint.GetTermLabel()` will throw if the term ID is invalid, indicating invalid configuration.

## Completion Check
You can identify where validation is applied and explain the key invariants that must hold.
