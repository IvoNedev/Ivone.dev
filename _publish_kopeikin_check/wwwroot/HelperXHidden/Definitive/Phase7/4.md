# Phase 7.4 â€” Error Handling Patterns

## What To Learn
Error handling relies on API responses, logging, and telemetry. There is no global problem-details middleware visible in the pipeline.

## Why It Exists
Understanding error handling helps you diagnose production issues and write consistent handlers.

## Where It Lives In The Codebase
- API pipeline: `sonar-api/sonar-api/src/Program.cs`
- Telemetry registration: `sonar-api/sonar-api/src/Infrastructure/Telemetry/*`
- Logging in DbContext: `sonar-api/sonar-data/SonarDbContext.cs`

## Error Handling Characteristics
- Handlers return `Results.BadRequest(...)` or other result types.
- Exceptions in handlers bubble up unless caught.
- Telemetry captures traces and errors via OpenTelemetry integration.

## Questions And Answers
- **Is there a consistent problem-details pattern?**
  - There is no explicit problem-details middleware; handlers control error response shape.

## Additional Questions You Should Be Able To Answer
- Where are telemetry exporters configured?
  - In `sonar-api/sonar-api/src/Infrastructure/Telemetry/*`.

## Completion Check
You can describe how errors are returned and where logs/telemetry are captured.
