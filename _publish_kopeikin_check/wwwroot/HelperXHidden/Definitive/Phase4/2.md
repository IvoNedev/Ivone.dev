# Phase 4.2 â€” Purpose Of Each Major Folder/Module

## What To Learn
The Sonar API repo contains multiple projects, each with distinct responsibilities. Understanding them prevents accidental changes in the wrong layer.

## Why It Exists
The system is not a monolith; the projects are partitioned to support scalability and separation of concerns.

## Where It Lives In The Codebase
- API: `sonar-api/sonar-api`
- Admin: `sonar-api/sonar-admin`
- Entities: `sonar-api/sonar-data`
- Shared logic: `sonar-api/sonar-core`, `sonar-api/sonar-utilities`
- Queues: `sonar-api/sonar-queue`, `sonar-api/sonar-queue-processor`, `sonar-api/sonar-queue-runner`
- Migrations: `sonar-api/sonar-dbup`
- Integrations: `sonar-api/sonar-integration-event-processor`, `sonar-api/sonar-wonde-runner`

## Module Responsibilities
- **sonar-api/sonar-api**: REST endpoints, orchestration, permissions, and HTTP pipeline.
- **sonar-data**: EF entity definitions and database mapping.
- **sonar-utilities**: Shared enums and value objects (assessment points, feature keys).
- **sonar-core**: Shared business logic and data access helpers.
- **sonar-queue**: Queue item definitions and processing logic.
- **sonar-queue-processor**: Host that executes queued jobs.
- **sonar-queue-runner**: Host that triggers queue jobs.
- **sonar-document-generation**: HTML-to-PDF processing.
- **sonar-dbup**: Database migrations.

## Questions And Answers
- **Which areas are safe to extend vs legacy to avoid?**
  - Extend current `Areas/*` modules; avoid `AreasLegacy/*` unless explicitly required.

## Additional Questions You Should Be Able To Answer
- Where should new domain logic be placed?
  - In the relevant API area and, if shared, in `sonar-core` or `sonar-utilities`.

## Completion Check
You can list the major projects and describe what each one does.
