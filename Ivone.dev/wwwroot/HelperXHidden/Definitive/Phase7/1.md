# Phase 7.1 â€” API Design Philosophy

## What To Learn
The Sonar API uses ASP.NET Core minimal APIs with explicit route registration and endpoint filters for permissions.

## Why It Exists
This pattern provides explicit control over route registration and security boundaries.

## Where It Lives In The Codebase
- API setup: `sonar-api/sonar-api/src/Program.cs`
- Route registration: `sonar-api/sonar-api/src/RoutesRegistration.cs`
- Areas and handlers: `sonar-api/sonar-api/src/Areas/*`

## Design Characteristics
- Each API area registers its own routes.
- The route registry is centralized in `RoutesRegistration`.
- Authorization is enforced through middleware and endpoint filters.

## Questions And Answers
- **How are endpoints registered and grouped?**
  - Each area has a `*Routes` class with a `RegisterRoutes` method. `RoutesRegistration` calls them all.

## Additional Questions You Should Be Able To Answer
- Why use minimal APIs instead of MVC controllers?
  - Minimal APIs reduce boilerplate and make route registration explicit.

## Completion Check
You can explain how routes are registered and where to find any endpoint definition.
