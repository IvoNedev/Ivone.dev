# Phase 3.2 â€” Frontend vs Backend Responsibilities

## What To Learn
Frontends render, filter, and present data. The API calculates, validates, and authoritatively defines outcomes. Background services handle long-running tasks.

## Why It Exists
Separating responsibilities ensures consistent business logic and reduces duplication.

## Where It Lives In The Codebase
- Frontend logic: `sonar/sonar-web/src`, `sonar/reports-web/src`
- API logic: `sonar-api/sonar-api/src/Areas/*`
- Shared utilities: `sonar-api/sonar-utilities/src/*`

## Backend Responsibilities
- Enforce permissions and feature access.
- Calculate assessments and outcomes.
- Provide consistent data for all frontends.
- Coordinate background processing.

## Frontend Responsibilities
- Collect user filters and inputs.
- Render tables, charts, and dashboards.
- Capture HTML for PDF export.

## Questions And Answers
- **Which endpoints are designed purely for UI rendering?**
  - Report endpoints that return data models for charts/tables; they rely on UI to format output.

- **Which UI helpers are domain-critical and should move server-side?**
  - Any helper that computes an outcome, applies a rule, or changes interpretation should be server-side.

## Additional Questions You Should Be Able To Answer
- How does Reports Web keep PDF output consistent with on-screen output?
  - It uses the same DOM output and post-processes HTML for PDF export.

- What is the risk of UI-only business rules?
  - Other clients may not follow the same rules, leading to inconsistent outputs.

## Completion Check
You can describe which layer owns which responsibilities and justify those boundaries.
